gloader.load(["glow","1","glow.dom","glow.events"],{async:true,onLoad:function(b){if(bbc.fmtj.apps.ticker.initialise===undefined){a();}else{bbc.fmtj.apps.ticker.initialise(a);}function a(){bbc.fmtj.net.json.model.registerRenderer(function(){var c=bbc.fmtj.net.json.renderer.createRendererBase("tickerRenderer");c.initialise=function(f){var j={unravelTime:7};var d=new Array();d.ticker_warning=new bbc.fmtj.apps.ticker.renderers.WarningRenderer(j);d[""]=new bbc.fmtj.apps.ticker.renderers.DefaultRenderer(j);var i={renderers:d,refreshRateSecs:5,containerElementId:"#"+f,messageContainer:bbc.fmtj.net.json.model.getModule(f).object};var e=new bbc.fmtj.apps.ticker.Controller(i);var h=b.dom.get(i.containerElementId);var g=h.get("."+e.START_STOP_CONTROL_ELEMENT_CLASS);b.events.addListener(g,"click",function(){var l=bbc.fmtj.net.json.model.getModule(f);var m=bbc.fmtj.net.json.model.getFeedByDataSource(l.object.dataSource);var k=m.id;if(e.getState()===e.PLAY_STATE_PLAYING){bbc.fmtj.net.json.model.startFeedById(k);}else{if(e.getState()===e.PLAY_STATE_STOPPED){bbc.fmtj.net.json.model.stopFeedById(k);}}});};c.render=function(e,m){var f=[];for(var g=0;g<m.entries.length;g++){var l=m.entries[g].prompt;var j=m.entries[g].headline;var d=m.entries[g].url;var n=(m.entries[g].mediaType!==undefined)?m.entries[g].mediaType.toLowerCase():undefined;var k=false;if(m.entries[g].isLive!==undefined){k=m.entries[g].isLive;}switch(n){case"video":n="ticker_video";break;case"audio":n="ticker_audio";break;default:n="";}var h=((m.entries[g].isBreaking==="true")?"ticker_warning":"");var o={title:l,content:j,url:d,messageClass:h,mediaType:n,isLive:k};if(m.entries.length===1){o.isSingleton=true;}else{o.isSingleton=false;}f.push(o);}bbc.fmtj.net.json.model.getModule(e).object.messages=f;};return c;});}}});